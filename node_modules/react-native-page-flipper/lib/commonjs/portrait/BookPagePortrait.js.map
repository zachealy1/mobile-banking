{"version":3,"names":["timingConfig","duration","easing","Easing","inOut","cubic","BookPagePortrait","React","forwardRef","ref","current","prev","onPageFlip","containerSize","enabled","isPressable","setIsAnimating","getPageStyle","isAnimating","isAnimatingRef","next","onFlipStart","onPageDrag","onPageDragEnd","onPageDragStart","renderPage","containerWidth","width","pSnapPoints","x","useSharedValue","isMounted","useRef","rotateYAsDeg","turnPage","useCallback","id","value","withTiming","runOnJS","useImperativeHandle","useEffect","getDegreesForX","val","interpolate","Extrapolate","CLAMP","containerStyle","useAnimatedStyle","flex","onPanGestureHandler","useAnimatedGestureHandler","onStart","event","ctx","onActive","newX","translationX","degrees","onEnd","snapTo","snapPoint","velocityX","progress","Math","abs","clamp","gesturesEnabled","iPageProps","position","height","zIndex","left","right","IPage","page","useState","loaded","setLoaded","setTimeout","rotationVal","useDerivedValue","portraitBackStyle","w","ceil","opacity","transform","translateX","portraitFrontStyle","style","floor","frontPageStyle","backPageStyle","shadowProps","viewHeight","StyleSheet","absoluteFillObject","styles","pageContainer","overflow","rotateX","rotateZ","create","container","backfaceVisibility","backgroundColor"],"sources":["BookPagePortrait.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Pressable, StyleSheet, View, ViewStyle } from 'react-native';\nimport {\n    PanGestureHandler,\n    PanGestureHandlerGestureEvent,\n} from 'react-native-gesture-handler';\nimport Animated, {\n    Easing,\n    Extrapolate,\n    interpolate,\n    runOnJS,\n    useAnimatedGestureHandler,\n    useAnimatedStyle,\n    useDerivedValue,\n    useSharedValue,\n    withTiming,\n    WithTimingConfig,\n} from 'react-native-reanimated';\nimport type { Page, Size } from '../types';\nimport BackShadow from '../BookPage/BackShadow';\nimport FrontShadow from '../BookPage/FrontShadow';\nimport PageShadow from '../BookPage/PageShadow';\nimport { clamp, snapPoint } from '../utils/utils';\n\nexport type IBookPageProps = {\n    current: Page;\n    prev: Page;\n    onPageFlip: any;\n    containerSize: Size;\n    setIsAnimating: (val: boolean) => void;\n    isAnimating: boolean;\n    enabled: boolean;\n    isPressable: boolean;\n    getPageStyle: (right: boolean, front: boolean) => any;\n    isAnimatingRef: React.MutableRefObject<boolean>;\n    next: Page;\n    onFlipStart?: (id: number) => void;\n    onPageDragStart?: () => void;\n    onPageDrag?: () => void;\n    onPageDragEnd?: () => void;\n    renderPage?: (data: any) => any;\n};\n\nexport type PortraitBookInstance = { turnPage: (index: 1 | -1) => void };\n\nconst timingConfig: WithTimingConfig = {\n    duration: 800,\n    easing: Easing.inOut(Easing.cubic),\n};\n\nconst BookPagePortrait = React.forwardRef<PortraitBookInstance, IBookPageProps>(\n    (\n        {\n            current,\n            prev,\n            onPageFlip,\n            containerSize,\n            enabled,\n            isPressable,\n            setIsAnimating,\n            getPageStyle,\n            isAnimating,\n            isAnimatingRef,\n            next,\n            onFlipStart,\n            onPageDrag,\n            onPageDragEnd,\n            onPageDragStart,\n            renderPage,\n        },\n        ref\n    ) => {\n        const containerWidth = containerSize.width;\n\n        const pSnapPoints = !prev\n            ? [-containerSize.width, 0]\n            : [-containerSize.width, 0, containerSize.width];\n\n        const x = useSharedValue(0);\n\n        const isMounted = useRef(false);\n        const rotateYAsDeg = useSharedValue(0);\n\n        // might not need this\n        // useEffect(() => {\n        //   if (!enabled) {\n        //     setIsDragging(false);\n        //   }\n        // }, [enabled]);\n\n        const turnPage = useCallback(\n            (id: 1 | -1) => {\n                setIsAnimating(true);\n                if (onFlipStart && typeof onFlipStart === 'function') {\n                    onFlipStart(id);\n                }\n                rotateYAsDeg.value = withTiming(\n                    id < 0 ? -180 : 180,\n                    timingConfig,\n                    () => {\n                        runOnJS(onPageFlip)(id, false);\n                    }\n                );\n            },\n            [onFlipStart, onPageFlip, rotateYAsDeg, setIsAnimating]\n        );\n\n        React.useImperativeHandle(\n            ref,\n            () => ({\n                turnPage,\n            }),\n            [turnPage]\n        );\n\n        useEffect(() => {\n            isMounted.current = true;\n            return () => {\n                isMounted.current = false;\n            };\n        }, []);\n\n        const getDegreesForX = (x: number) => {\n            'worklet';\n\n            const val = interpolate(\n                x,\n                [-containerSize.width, 0, containerSize.width],\n                [180, 0, -180],\n                Extrapolate.CLAMP\n            );\n            return val;\n        };\n\n        const containerStyle = useAnimatedStyle(() => {\n            return {\n                flex: 1,\n            };\n        });\n\n        const onPanGestureHandler = useAnimatedGestureHandler<\n            PanGestureHandlerGestureEvent,\n            { x: number }\n        >({\n            // @ts-ignore\n            onStart: (event, ctx) => {\n                ctx.x = x.value;\n                if (onPageDragStart && typeof onPageDragStart === 'function') {\n                    runOnJS(onPageDragStart)();\n                }\n            },\n            onActive: (event, ctx) => {\n                const newX = ctx.x + event.translationX;\n                const degrees = getDegreesForX(newX);\n                x.value = newX;\n                rotateYAsDeg.value = degrees;\n                if (onPageDrag && typeof onPageDrag === 'function') {\n                    runOnJS(onPageDrag)();\n                }\n            },\n            onEnd: (event) => {\n                if (onPageDragEnd && typeof onPageDragEnd === 'function') {\n                    runOnJS(onPageDragEnd)();\n                }\n\n                const snapTo = snapPoint(x.value, event.velocityX, pSnapPoints);\n                const id = snapTo > 0 ? -1 : snapTo < 0 ? 1 : 0;\n\n                if (!next && id > 0) {\n                    // reset\n                    x.value = withTiming(0);\n                    rotateYAsDeg.value = withTiming(0);\n                    // runOnJS(onDrag)(false);\n                    return;\n                }\n\n                const degrees = getDegreesForX(snapTo);\n                x.value = snapTo;\n                if (rotateYAsDeg.value === degrees) {\n                    // already same value\n                    // debugValue('already there');\n                    runOnJS(onPageFlip)(id, false);\n                } else {\n                    runOnJS(setIsAnimating)(true);\n\n                    const progress =\n                        Math.abs(rotateYAsDeg.value - degrees) / 100;\n                    const duration = clamp(\n                        800 * progress - Math.abs(0.1 * event.velocityX),\n                        350,\n                        1000\n                    );\n                    rotateYAsDeg.value = withTiming(\n                        degrees,\n                        {\n                            ...timingConfig,\n                            duration: duration,\n                        },\n                        () => {\n                            if (snapTo === 0) {\n                                //\n                            }\n                            runOnJS(onPageFlip)(id, false);\n                        }\n                    );\n                }\n            },\n        });\n\n        const gesturesEnabled = enabled && !isAnimating;\n\n        const iPageProps = {\n            containerSize,\n            containerWidth,\n            getPageStyle,\n            rotateYAsDeg,\n            renderPage,\n        };\n\n        return (\n            <Animated.View style={containerStyle}>\n                <PanGestureHandler\n                    onGestureEvent={onPanGestureHandler}\n                    enabled={gesturesEnabled}\n                >\n                    <Animated.View style={containerStyle}>\n                        {isPressable && prev && (\n                            <Pressable\n                                disabled={isAnimating}\n                                onPress={() => {\n                                    if (!isAnimatingRef.current) turnPage(-1);\n                                }}\n                                style={{\n                                    position: 'absolute',\n                                    height: '100%',\n                                    width: '25%',\n                                    zIndex: 10000,\n                                    left: 0,\n                                    // backgroundColor: 'red',\n                                    // opacity: 0.2,\n                                }}\n                            />\n                        )}\n                        {isPressable && next && (\n                            <Pressable\n                                disabled={isAnimating}\n                                onPress={() => {\n                                    if (!isAnimatingRef.current) turnPage(1);\n                                }}\n                                style={{\n                                    position: 'absolute',\n                                    height: '100%',\n                                    width: '30%',\n                                    zIndex: 10000,\n                                    right: 0,\n                                    // backgroundColor: 'blue',\n                                    // opacity: 0.2,\n                                }}\n                            />\n                        )}\n                        {current && next ? (\n                            <IPage\n                                page={current}\n                                right={true}\n                                {...iPageProps}\n                            />\n                        ) : (\n                            <View style={{ height: '100%', width: '100%' }}>\n                                {renderPage && (\n                                    <View style={getPageStyle(true, true)}>\n                                        {renderPage(current.right)}\n                                    </View>\n                                )}\n                            </View>\n                        )}\n                        {prev && (\n                            <IPage page={prev} right={false} {...iPageProps} />\n                        )}\n                    </Animated.View>\n                </PanGestureHandler>\n            </Animated.View>\n        );\n    }\n);\n\ntype IPageProps = {\n    right: boolean;\n    page: Page;\n    rotateYAsDeg: Animated.SharedValue<number>;\n    containerWidth: number;\n    containerSize: Size;\n    getPageStyle: any;\n    renderPage?: (data: any) => any;\n};\n\nconst IPage: React.FC<IPageProps> = ({\n    right,\n    page,\n    rotateYAsDeg,\n    containerWidth,\n    containerSize,\n    getPageStyle,\n    renderPage,\n}) => {\n    const [loaded, setLoaded] = useState(right);\n\n    useEffect(() => {\n        // hack fix\n        setTimeout(() => {\n            setLoaded(true);\n        }, 50);\n    }, []);\n\n    const rotationVal = useDerivedValue(() => {\n        const val = right\n            ? rotateYAsDeg.value\n            : interpolate(rotateYAsDeg.value, [-180, 0], [0, 180]);\n        return val;\n    });\n\n    const portraitBackStyle = useAnimatedStyle(() => {\n        const x = interpolate(\n            rotationVal.value,\n            [0, 180],\n            [containerWidth, -containerWidth / 2]\n        );\n        const w = interpolate(\n            rotationVal.value,\n            [0, 180],\n            [0, containerWidth / 2]\n        );\n\n        return {\n            width: Math.ceil(w),\n            zIndex: 2,\n            opacity: 1,\n            transform: [{ translateX: x }],\n        };\n    });\n\n    const portraitFrontStyle = useAnimatedStyle(() => {\n        const w = interpolate(\n            rotationVal.value,\n            [0, 160],\n            [containerWidth, -20],\n            Extrapolate.CLAMP\n        );\n\n        const style: ViewStyle = {\n            zIndex: 1,\n            width: Math.floor(w),\n        };\n\n        if (!right) {\n            style['left'] = 0;\n        } else {\n            // style['right'] = 0;\n        }\n\n        return style;\n    });\n\n    const frontPageStyle = getPageStyle(right, true);\n    const backPageStyle = getPageStyle(right, false);\n\n    if (!loaded) {\n        // hack fix\n        return null;\n    }\n\n    const shadowProps = {\n        right: true,\n        degrees: rotationVal,\n        width: containerSize.width,\n        viewHeight: containerSize.height,\n    };\n\n    return (\n        <View\n            style={{\n                ...StyleSheet.absoluteFillObject,\n                zIndex: !right ? 5 : 0,\n            }}\n        >\n            {/* BACK */}\n            <Animated.View\n                style={[\n                    styles.pageContainer,\n                    portraitBackStyle,\n                    { overflow: 'visible' },\n                ]}\n            >\n                <View style={styles.pageContainer}>\n                    {renderPage && (\n                        <Animated.View\n                            style={[\n                                backPageStyle,\n\n                                {\n                                    opacity: 0.2,\n                                    transform: [\n                                        { rotateX: '180deg' },\n                                        { rotateZ: '180deg' },\n                                    ],\n                                },\n                            ]}\n                        >\n                            {renderPage(page.left)}\n                        </Animated.View>\n                    )}\n                </View>\n                <BackShadow {...{ degrees: rotationVal, right: true }} />\n                <FrontShadow {...shadowProps} />\n                <PageShadow {...shadowProps} containerSize={containerSize} />\n            </Animated.View>\n            {/* FRONT */}\n            <Animated.View style={[styles.pageContainer, portraitFrontStyle]}>\n                {renderPage && (\n                    <Animated.View style={[frontPageStyle]}>\n                        {renderPage(page.left)}\n                    </Animated.View>\n                )}\n            </Animated.View>\n        </View>\n    );\n};\n\nexport { BookPagePortrait };\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    pageContainer: {\n        height: '100%',\n        width: '100%',\n        position: 'absolute',\n        backfaceVisibility: 'hidden',\n        overflow: 'hidden',\n        backgroundColor: 'white',\n    },\n});\n"],"mappings":"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"}