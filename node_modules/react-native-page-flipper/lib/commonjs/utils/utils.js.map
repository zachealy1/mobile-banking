{"version":3,"names":["createPages","portrait","singleImageMode","data","allPages","forEach","page","push","left","right","i","length","transformOrigin","transformations","x","y","translateX","translateY","debug","msg","val","console","log","debugValue","runOnJS","snapPoint","value","velocity","points","point","deltas","map","p","Math","abs","minDelta","min","apply","filter","clamp","number","max"],"sources":["utils.ts"],"sourcesContent":["import { runOnJS } from 'react-native-reanimated';\nimport type { Page } from '../types';\nimport type { TransformsStyle } from 'react-native';\n\nexport const createPages = ({\n    portrait,\n    singleImageMode,\n    data,\n}: {\n    portrait: boolean;\n    singleImageMode: boolean;\n    data: string[];\n}) => {\n    const allPages: Page[] = [];\n\n    if (portrait) {\n        if (!singleImageMode) {\n            data.forEach((page) => {\n                allPages.push({\n                    left: page,\n                    right: page,\n                });\n                allPages.push({\n                    left: page,\n                    right: page,\n                });\n            });\n        } else {\n            for (let i = 0; i < data.length; i++) {\n                allPages[i] = {\n                    left: data[i],\n                    right: data[i],\n                };\n            }\n        }\n    } else {\n        for (let i = 0; i < data.length; i++) {\n            if (singleImageMode) {\n                allPages.push({\n                    left: data[i],\n                    right: data[i + 1],\n                });\n                i++;\n            } else {\n                allPages.push({\n                    left: data[i],\n                    right: data[i],\n                });\n            }\n        }\n    }\n    return allPages;\n};\n\ntype RNTransform = Exclude<TransformsStyle['transform'], undefined>;\n\nexport const transformOrigin = (\n    { x, y }: { x: number; y: number },\n    transformations: RNTransform\n): RNTransform => {\n    'worklet';\n    return [\n        { translateX: x },\n        { translateY: y },\n        ...transformations,\n        { translateX: -x },\n        { translateY: -y },\n    ];\n};\n\nconst debug = (msg: string, val: any) => {\n    console.log(msg, val);\n};\n\nexport const debugValue = (msg: string, val: any) => {\n    'worklet';\n    runOnJS(debug)(msg, val);\n};\n\nexport const snapPoint = (\n    value: number,\n    velocity: number,\n    points: ReadonlyArray<number>\n): number => {\n    'worklet';\n\n    const point = value + 0.25 * velocity;\n    const deltas = points.map((p) => Math.abs(point - p));\n    const minDelta = Math.min.apply(null, deltas);\n    return points.filter((p) => Math.abs(point - p) === minDelta)[0];\n};\n\nexport function clamp(number: number, min: number, max: number) {\n    'worklet';\n    return Math.max(min, Math.min(number, max));\n}\n"],"mappings":"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"}