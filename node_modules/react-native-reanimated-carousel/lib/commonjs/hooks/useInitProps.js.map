{"version":3,"sources":["useInitProps.ts"],"names":["useInitProps","props","defaultIndex","data","rawData","loop","autoPlayInterval","_autoPlayInterval","scrollAnimationDuration","style","autoFillData","enabled","pagingEnabled","overscrollEnabled","snapEnabled","enableSnap","width","_width","height","_height","Math","round","max","React","useMemo","dataLength","length","rawDataLength","mode","modeConfig","showLength"],"mappings":";;;;;;;AAAA;;AAGA;;;;AAoBO,SAASA,YAAT,CAAyBC,KAAzB,EAAgF;AAAA;;AACrF,QAAM;AACJC,IAAAA,YAAY,GAAG,CADX;AAEJC,IAAAA,IAAI,EAAEC,OAAO,GAAG,EAFZ;AAGJC,IAAAA,IAAI,GAAG,IAHH;AAIJC,IAAAA,gBAAgB,EAAEC,iBAAiB,GAAG,IAJlC;AAKJC,IAAAA,uBAAuB,GAAG,GALtB;AAMJC,IAAAA,KAAK,GAAG,EANJ;AAOJC,IAAAA,YAAY,GAAG,IAPX;AAQJ;AACAC,IAAAA,OAAO,GAAG,IATN;AAUJC,IAAAA,aAAa,GAAG,IAVZ;AAWJC,IAAAA,iBAAiB,GAAG,IAXhB;AAYJC,IAAAA,WAAW,wBAAGb,KAAK,CAACc,UAAT,iEAAuB,IAZ9B;AAaJC,IAAAA,KAAK,EAAEC,MAbH;AAcJC,IAAAA,MAAM,EAAEC;AAdJ,MAeFlB,KAfJ;AAiBA,QAAMe,KAAK,GAAGI,IAAI,CAACC,KAAL,CAAWJ,MAAM,IAAI,CAArB,CAAd;AACA,QAAMC,MAAM,GAAGE,IAAI,CAACC,KAAL,CAAWF,OAAO,IAAI,CAAtB,CAAf;AACA,QAAMb,gBAAgB,GAAGc,IAAI,CAACE,GAAL,CAASf,iBAAT,EAA4B,CAA5B,CAAzB;;AAEA,QAAMJ,IAAI,GAAGoB,eAAMC,OAAN,CAAmB,MAAM;AACpC,WAAO,gEAAoC;AACzCnB,MAAAA,IADyC;AAEzCK,MAAAA,YAFyC;AAGzCP,MAAAA,IAAI,EAAEC,OAHmC;AAIzCqB,MAAAA,UAAU,EAAErB,OAAO,CAACsB;AAJqB,KAApC,CAAP;AAMD,GAPY,EAOV,CAACtB,OAAD,EAAUC,IAAV,EAAgBK,YAAhB,CAPU,CAAb;;AASA,QAAMe,UAAU,GAAGtB,IAAI,CAACuB,MAAxB;AACA,QAAMC,aAAa,GAAGvB,OAAO,CAACsB,MAA9B;;AAEA,MAAIzB,KAAK,CAAC2B,IAAN,KAAe,gBAAf,IAAmC3B,KAAK,CAAC2B,IAAN,KAAe,kBAAtD,EAA0E;AAAA;;AACxE,QAAI,CAAC3B,KAAK,CAAC4B,UAAX,EAAuB5B,KAAK,CAAC4B,UAAN,GAAmB,EAAnB;AAEvB5B,IAAAA,KAAK,CAAC4B,UAAN,CAAiBC,UAAjB,iDAA8B7B,KAAK,CAAC4B,UAApC,sDAA8B,kBAAkBC,UAAhD,yEAA8DL,UAAU,GAAG,CAA3E;AACD;;AAED,SAAO,EACL,GAAGxB,KADE;AAELC,IAAAA,YAFK;AAGLQ,IAAAA,YAHK;AAIL;AACAP,IAAAA,IALK;AAML;AACAsB,IAAAA,UAPK;AAQL;AACArB,IAAAA,OATK;AAUL;AACAuB,IAAAA,aAXK;AAYLtB,IAAAA,IAZK;AAaLM,IAAAA,OAbK;AAcLL,IAAAA,gBAdK;AAeLE,IAAAA,uBAfK;AAgBLC,IAAAA,KAhBK;AAiBLG,IAAAA,aAjBK;AAkBLE,IAAAA,WAlBK;AAmBLD,IAAAA,iBAnBK;AAoBLG,IAAAA,KApBK;AAqBLE,IAAAA;AArBK,GAAP;AAuBD","sourcesContent":["import React from \"react\";\n\nimport type { TCarouselProps } from \"../types\";\nimport { computedFillDataWithAutoFillData } from \"../utils/computed-with-auto-fill-data\";\n\ntype TGetRequiredProps<P extends keyof TCarouselProps> = Record<P, Required<TCarouselProps>[P]>;\n\nexport type TInitializeCarouselProps<T> = TCarouselProps<T> &\n  TGetRequiredProps<\n    | \"defaultIndex\"\n    | \"loop\"\n    | \"width\"\n    | \"height\"\n    | \"scrollAnimationDuration\"\n    | \"autoPlayInterval\"\n    | \"autoFillData\"\n  > & {\n    // Raw data that has not been processed\n    rawData: T[];\n    dataLength: number;\n    rawDataLength: number;\n  };\n\nexport function useInitProps<T>(props: TCarouselProps<T>): TInitializeCarouselProps<T> {\n  const {\n    defaultIndex = 0,\n    data: rawData = [],\n    loop = true,\n    autoPlayInterval: _autoPlayInterval = 1000,\n    scrollAnimationDuration = 500,\n    style = {},\n    autoFillData = true,\n    // switchers\n    enabled = true,\n    pagingEnabled = true,\n    overscrollEnabled = true,\n    snapEnabled = props.enableSnap ?? true,\n    width: _width,\n    height: _height,\n  } = props;\n\n  const width = Math.round(_width || 0);\n  const height = Math.round(_height || 0);\n  const autoPlayInterval = Math.max(_autoPlayInterval, 0);\n\n  const data = React.useMemo<T[]>(() => {\n    return computedFillDataWithAutoFillData<T>({\n      loop,\n      autoFillData,\n      data: rawData,\n      dataLength: rawData.length,\n    });\n  }, [rawData, loop, autoFillData]);\n\n  const dataLength = data.length;\n  const rawDataLength = rawData.length;\n\n  if (props.mode === \"vertical-stack\" || props.mode === \"horizontal-stack\") {\n    if (!props.modeConfig) props.modeConfig = {};\n\n    props.modeConfig.showLength = props.modeConfig?.showLength ?? dataLength - 1;\n  }\n\n  return {\n    ...props,\n    defaultIndex,\n    autoFillData,\n    // Fill data with autoFillData\n    data,\n    // Length of fill data\n    dataLength,\n    // Raw data that has not been processed\n    rawData,\n    // Length of raw data\n    rawDataLength,\n    loop,\n    enabled,\n    autoPlayInterval,\n    scrollAnimationDuration,\n    style,\n    pagingEnabled,\n    snapEnabled,\n    overscrollEnabled,\n    width,\n    height,\n  };\n}\n"]}