"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parallaxLayout = parallaxLayout;

var _reactNativeReanimated = require("react-native-reanimated");

function parallaxLayout(baseConfig) {
  let modeConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  const {
    size,
    vertical
  } = baseConfig;
  const {
    parallaxScrollingOffset = 100,
    parallaxScrollingScale = 0.8,
    parallaxAdjacentItemScale = parallaxScrollingScale ** 2
  } = modeConfig;
  return value => {
    "worklet";

    const translate = (0, _reactNativeReanimated.interpolate)(value, [-1, 0, 1], [-size + parallaxScrollingOffset, 0, size - parallaxScrollingOffset]);
    const zIndex = Math.round((0, _reactNativeReanimated.interpolate)(value, [-1, 0, 1], [0, size, 0], _reactNativeReanimated.Extrapolation.CLAMP));
    const scale = (0, _reactNativeReanimated.interpolate)(value, [-1, 0, 1], [parallaxAdjacentItemScale, parallaxScrollingScale, parallaxAdjacentItemScale], _reactNativeReanimated.Extrapolation.CLAMP);
    return {
      transform: [vertical ? {
        translateY: translate
      } : {
        translateX: translate
      }, {
        scale
      }],
      zIndex
    };
  };
}
//# sourceMappingURL=parallax.js.map