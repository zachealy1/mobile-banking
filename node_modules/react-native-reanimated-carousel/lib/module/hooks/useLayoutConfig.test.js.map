{"version":3,"sources":["useLayoutConfig.test.tsx"],"names":["React","View","renderHook","useLayoutConfig","describe","defaultProps","size","vertical","it","result","data","renderItem","loop","autoFillData","defaultIndex","autoPlayInterval","scrollAnimationDuration","width","height","rawData","dataLength","rawDataLength","expect","current","toBeDefined","toBe","props","mode","modeConfig","parallaxScrollingScale","parallaxScrollingOffset","parallaxAdjacentItemScale","style","transform","toContainEqual","translateX","scale","snapDirection","showLength","zIndex","opacity","translateY","style1","style2","style3","rerender","firstResult","initialProps","not"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View } from \"react-native\";\n\nimport { renderHook } from \"@testing-library/react-hooks\";\n\nimport { useLayoutConfig } from \"./useLayoutConfig\";\n\ndescribe(\"useLayoutConfig\", () => {\n  const defaultProps = {\n    size: 300,\n    vertical: false,\n  };\n  it(\"should return normal layout by default\", () => {\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...defaultProps,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n\n    expect(result.current).toBeDefined();\n    expect(typeof result.current).toBe(\"function\");\n  });\n\n  it(\"should handle parallax mode\", () => {\n    const props = {\n      ...defaultProps,\n      mode: \"parallax\" as const,\n      modeConfig: {\n        parallaxScrollingScale: 0.9,\n        parallaxScrollingOffset: 50,\n        parallaxAdjacentItemScale: 0.8,\n      },\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.transform).toContainEqual({ translateX: 0 });\n    expect(style.transform).toContainEqual({ scale: 0.9 });\n  });\n\n  it(\"should handle horizontal-stack mode\", () => {\n    const props = {\n      ...defaultProps,\n      mode: \"horizontal-stack\" as const,\n      modeConfig: {\n        snapDirection: \"left\" as const,\n        showLength: 3,\n      },\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.zIndex).toBeDefined();\n    expect(style.opacity).toBeDefined();\n  });\n\n  it(\"should handle vertical-stack mode\", () => {\n    const props = {\n      ...defaultProps,\n      mode: \"vertical-stack\" as const,\n      modeConfig: {\n        snapDirection: \"left\" as const,\n        showLength: 3,\n      },\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.zIndex).toBeDefined();\n    expect(style.opacity).toBeDefined();\n  });\n\n  it(\"should handle vertical orientation\", () => {\n    const props = {\n      ...defaultProps,\n      vertical: true,\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.transform).toContainEqual({ translateY: 0 });\n  });\n\n  it(\"should handle different offsets\", () => {\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...defaultProps,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n\n    const style1 = result.current(-1); // Previous item\n    const style2 = result.current(0); // Current item\n    const style3 = result.current(1); // Next item\n\n    expect(style1.transform).toContainEqual({ translateX: -300 });\n    expect(style2.transform).toContainEqual({ translateX: 0 });\n    expect(style3.transform).toContainEqual({ translateX: 300 });\n  });\n\n  it(\"should memoize layout function\", () => {\n    const { result, rerender } = renderHook(() =>\n      useLayoutConfig({\n        ...defaultProps,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const firstResult = result.current;\n\n    rerender();\n    expect(result.current).toBe(firstResult);\n  });\n\n  it(\"should update layout when props change\", () => {\n    const { result, rerender } = renderHook(\n      (props) =>\n        useLayoutConfig({\n          ...props,\n          data: [],\n          renderItem: () => <View />,\n          loop: false,\n          autoFillData: false,\n          defaultIndex: 0,\n          autoPlayInterval: 0,\n          scrollAnimationDuration: 0,\n          width: 0,\n          height: 0,\n          rawData: [],\n          dataLength: 0,\n          rawDataLength: 0,\n        }),\n      {\n        initialProps: defaultProps,\n      }\n    );\n    const firstResult = result.current;\n\n    rerender({ ...defaultProps, size: 400 });\n    expect(result.current).not.toBe(firstResult);\n  });\n});\n"]}