{"version":3,"sources":["usePanGestureProxy.ts"],"names":["useMemo","Gesture","useUpdateGestureConfig","usePanGestureProxy","customization","onConfigurePanGesture","onGestureStart","onGestureUpdate","onGestureEnd","options","gesture","Pan","withTestId","originalGestures","onBegin","onStart","onUpdate","onEnd","onFinalize","userDefinedConflictGestures","undefined","fakeOnBegin","cb","fakeOnStart","fakeOnUpdate","fakeOnEnd","fakeOnFinalize","e","success"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AAOA,SAASC,OAAT,QAAwB,8BAAxB;AAGA,SAASC,sBAAT,QAAuC,0BAAvC;AAEA,OAAO,MAAMC,kBAAkB,GAAIC,aAAD,IAS5B;AACJ,QAAM;AACJC,IAAAA,qBADI;AAEJC,IAAAA,cAFI;AAGJC,IAAAA,eAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,OAAO,GAAG;AALN,MAMFL,aANJ;AAQA,QAAMM,OAAO,GAAGV,OAAO,CAAC,MAAM;AAC5B,UAAMU,OAAO,GAAGT,OAAO,CAACU,GAAR,GAAcC,UAAd,CAAyB,sBAAzB,CAAhB,CAD4B,CAG5B;;AACA,UAAMC,gBAAgB,GAAG;AACvBC,MAAAA,OAAO,EAAEJ,OAAO,CAACI,OADM;AAEvBC,MAAAA,OAAO,EAAEL,OAAO,CAACK,OAFM;AAGvBC,MAAAA,QAAQ,EAAEN,OAAO,CAACM,QAHK;AAIvBC,MAAAA,KAAK,EAAEP,OAAO,CAACO,KAJQ;AAKvBC,MAAAA,UAAU,EAAER,OAAO,CAACQ;AALG,KAAzB,CAJ4B,CAY5B;;AACA,UAAMC,2BAML,GAAG;AACFL,MAAAA,OAAO,EAAEM,SADP;AAEFL,MAAAA,OAAO,EAAEK,SAFP;AAGFJ,MAAAA,QAAQ,EAAEI,SAHR;AAIFH,MAAAA,KAAK,EAAEG,SAJL;AAKFF,MAAAA,UAAU,EAAEE;AALV,KANJ;;AAcA,UAAMC,WAAmC,GAAIC,EAAD,IAAQ;AAClD;AACAH,MAAAA,2BAA2B,CAACL,OAA5B,GAAsCQ,EAAtC;AACA,aAAOZ,OAAP;AACD,KAJD;;AAMA,UAAMa,WAAmC,GAAID,EAAD,IAAQ;AAClD;AACAH,MAAAA,2BAA2B,CAACJ,OAA5B,GAAsCO,EAAtC;AACA,aAAOZ,OAAP;AACD,KAJD;;AAMA,UAAMc,YAAqC,GAAIF,EAAD,IAAQ;AACpD;AACAH,MAAAA,2BAA2B,CAACH,QAA5B,GAAuCM,EAAvC;AACA,aAAOZ,OAAP;AACD,KAJD;;AAMA,UAAMe,SAA+B,GAAIH,EAAD,IAAQ;AAC9C;AACAH,MAAAA,2BAA2B,CAACF,KAA5B,GAAoCK,EAApC;AACA,aAAOZ,OAAP;AACD,KAJD;;AAMA,UAAMgB,cAAyC,GAAIJ,EAAD,IAAQ;AACxD;AACAH,MAAAA,2BAA2B,CAACD,UAA5B,GAAyCI,EAAzC;AACA,aAAOZ,OAAP;AACD,KAJD,CAnD4B,CAyD5B;;;AACAA,IAAAA,OAAO,CAACI,OAAR,GAAkBO,WAAlB;AACAX,IAAAA,OAAO,CAACK,OAAR,GAAkBQ,WAAlB;AACAb,IAAAA,OAAO,CAACM,QAAR,GAAmBQ,YAAnB;AACAd,IAAAA,OAAO,CAACO,KAAR,GAAgBQ,SAAhB;AACAf,IAAAA,OAAO,CAACQ,UAAR,GAAqBQ,cAArB;AAEA,QAAIrB,qBAAJ,EACE;AACAA,MAAAA,qBAAqB,CAACK,OAAD,CAArB,CAlE0B,CAoE5B;;AACAA,IAAAA,OAAO,CAACI,OAAR,GAAkBD,gBAAgB,CAACC,OAAnC;AACAJ,IAAAA,OAAO,CAACK,OAAR,GAAkBF,gBAAgB,CAACE,OAAnC;AACAL,IAAAA,OAAO,CAACM,QAAR,GAAmBH,gBAAgB,CAACG,QAApC;AACAN,IAAAA,OAAO,CAACO,KAAR,GAAgBJ,gBAAgB,CAACI,KAAjC;AACAP,IAAAA,OAAO,CAACQ,UAAR,GAAqBL,gBAAgB,CAACK,UAAtC,CAzE4B,CA2E5B;;AACAR,IAAAA,OAAO,CACJI,OADH,CACYa,CAAD,IAAO;AACd;;AAEA,UAAIR,2BAA2B,CAACL,OAAhC,EAAyCK,2BAA2B,CAACL,OAA5B,CAAoCa,CAApC;AAC1C,KALH,EAMGZ,OANH,CAMYY,CAAD,IAAO;AACd;;AACArB,MAAAA,cAAc,CAACqB,CAAD,CAAd;AAEA,UAAIR,2BAA2B,CAACJ,OAAhC,EAAyCI,2BAA2B,CAACJ,OAA5B,CAAoCY,CAApC;AAC1C,KAXH,EAYGX,QAZH,CAYaW,CAAD,IAAO;AACf;;AACApB,MAAAA,eAAe,CAACoB,CAAD,CAAf;AAEA,UAAIR,2BAA2B,CAACH,QAAhC,EAA0CG,2BAA2B,CAACH,QAA5B,CAAqCW,CAArC;AAC3C,KAjBH,EAkBGV,KAlBH,CAkBS,CAACU,CAAD,EAAIC,OAAJ,KAAgB;AACrB;;AACApB,MAAAA,YAAY,CAACmB,CAAD,EAAIC,OAAJ,CAAZ;AAEA,UAAIT,2BAA2B,CAACF,KAAhC,EAAuCE,2BAA2B,CAACF,KAA5B,CAAkCU,CAAlC,EAAqCC,OAArC;AACxC,KAvBH,EAwBGV,UAxBH,CAwBc,CAACS,CAAD,EAAIC,OAAJ,KAAgB;AAC1B;;AAEA,UAAIT,2BAA2B,CAACD,UAAhC,EACEC,2BAA2B,CAACD,UAA5B,CAAuCS,CAAvC,EAA0CC,OAA1C;AACH,KA7BH;AA+BA,WAAOlB,OAAP;AACD,GA5GsB,EA4GpB,CAACJ,cAAD,EAAiBC,eAAjB,EAAkCC,YAAlC,EAAgDH,qBAAhD,CA5GoB,CAAvB;AA8GAH,EAAAA,sBAAsB,CAACQ,OAAD,EAAUD,OAAV,CAAtB;AAEA,SAAOC,OAAP;AACD,CAnIM","sourcesContent":["import { useMemo } from \"react\";\nimport type {\n  GestureStateChangeEvent,\n  GestureUpdateEvent,\n  PanGesture,\n  PanGestureHandlerEventPayload,\n} from \"react-native-gesture-handler\";\nimport { Gesture } from \"react-native-gesture-handler\";\n\nimport type { GestureConfig } from \"./useUpdateGestureConfig\";\nimport { useUpdateGestureConfig } from \"./useUpdateGestureConfig\";\n\nexport const usePanGestureProxy = (customization: {\n  onConfigurePanGesture?: (gesture: PanGesture) => void;\n  onGestureStart: (event: GestureStateChangeEvent<PanGestureHandlerEventPayload>) => void;\n  onGestureUpdate: (event: GestureUpdateEvent<PanGestureHandlerEventPayload>) => void;\n  onGestureEnd: (\n    event: GestureStateChangeEvent<PanGestureHandlerEventPayload>,\n    success: boolean\n  ) => void;\n  options?: GestureConfig;\n}) => {\n  const {\n    onConfigurePanGesture,\n    onGestureStart,\n    onGestureUpdate,\n    onGestureEnd,\n    options = {},\n  } = customization;\n\n  const gesture = useMemo(() => {\n    const gesture = Gesture.Pan().withTestId(\"rnrc-gesture-handler\");\n\n    // Save the original gesture callbacks\n    const originalGestures = {\n      onBegin: gesture.onBegin,\n      onStart: gesture.onStart,\n      onUpdate: gesture.onUpdate,\n      onEnd: gesture.onEnd,\n      onFinalize: gesture.onFinalize,\n    };\n\n    // Save the user defined gesture callbacks\n    const userDefinedConflictGestures: {\n      onBegin?: Parameters<(typeof gesture)[\"onBegin\"]>[0];\n      onStart?: Parameters<(typeof gesture)[\"onStart\"]>[0];\n      onUpdate?: Parameters<(typeof gesture)[\"onUpdate\"]>[0];\n      onEnd?: Parameters<(typeof gesture)[\"onEnd\"]>[0];\n      onFinalize?: Parameters<(typeof gesture)[\"onFinalize\"]>[0];\n    } = {\n      onBegin: undefined,\n      onStart: undefined,\n      onUpdate: undefined,\n      onEnd: undefined,\n      onFinalize: undefined,\n    };\n\n    const fakeOnBegin: typeof gesture.onBegin = (cb) => {\n      // Using fakeOnBegin to save the user defined callback\n      userDefinedConflictGestures.onBegin = cb;\n      return gesture;\n    };\n\n    const fakeOnStart: typeof gesture.onStart = (cb) => {\n      // Using fakeOnStart to save the user defined callback\n      userDefinedConflictGestures.onStart = cb;\n      return gesture;\n    };\n\n    const fakeOnUpdate: typeof gesture.onUpdate = (cb) => {\n      // Using fakeOnUpdate to save the user defined callback\n      userDefinedConflictGestures.onUpdate = cb;\n      return gesture;\n    };\n\n    const fakeOnEnd: typeof gesture.onEnd = (cb) => {\n      // Using fakeOnEnd to save the user defined callback\n      userDefinedConflictGestures.onEnd = cb;\n      return gesture;\n    };\n\n    const fakeOnFinalize: typeof gesture.onFinalize = (cb) => {\n      // Using fakeOnFinalize to save the user defined callback\n      userDefinedConflictGestures.onFinalize = cb;\n      return gesture;\n    };\n\n    // Setup the fake callbacks\n    gesture.onBegin = fakeOnBegin;\n    gesture.onStart = fakeOnStart;\n    gesture.onUpdate = fakeOnUpdate;\n    gesture.onEnd = fakeOnEnd;\n    gesture.onFinalize = fakeOnFinalize;\n\n    if (onConfigurePanGesture)\n      // Get the gesture with the user defined configuration\n      onConfigurePanGesture(gesture);\n\n    // Restore the original callbacks\n    gesture.onBegin = originalGestures.onBegin;\n    gesture.onStart = originalGestures.onStart;\n    gesture.onUpdate = originalGestures.onUpdate;\n    gesture.onEnd = originalGestures.onEnd;\n    gesture.onFinalize = originalGestures.onFinalize;\n\n    // Setup the original callbacks with the user defined callbacks\n    gesture\n      .onBegin((e) => {\n        \"worklet\";\n\n        if (userDefinedConflictGestures.onBegin) userDefinedConflictGestures.onBegin(e);\n      })\n      .onStart((e) => {\n        \"worklet\";\n        onGestureStart(e);\n\n        if (userDefinedConflictGestures.onStart) userDefinedConflictGestures.onStart(e);\n      })\n      .onUpdate((e) => {\n        \"worklet\";\n        onGestureUpdate(e);\n\n        if (userDefinedConflictGestures.onUpdate) userDefinedConflictGestures.onUpdate(e);\n      })\n      .onEnd((e, success) => {\n        \"worklet\";\n        onGestureEnd(e, success);\n\n        if (userDefinedConflictGestures.onEnd) userDefinedConflictGestures.onEnd(e, success);\n      })\n      .onFinalize((e, success) => {\n        \"worklet\";\n\n        if (userDefinedConflictGestures.onFinalize)\n          userDefinedConflictGestures.onFinalize(e, success);\n      });\n\n    return gesture;\n  }, [onGestureStart, onGestureUpdate, onGestureEnd, onConfigurePanGesture]);\n\n  useUpdateGestureConfig(gesture, options);\n\n  return gesture;\n};\n"]}